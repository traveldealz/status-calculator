{"version":3,"sources":["src/programs/SU.js"],"names":["countSegments","segments","data","reduce","acc","itinerary","mileage","value","totals","find","item","id","rdm","countBusinessSegments","cabquery","name","alliance","qualificationPeriodType","status","allianceStatus","qualification","type","number","qualificationPeriod","validity","calculate","note","en","de","es","milesName"],"mappings":"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","sourceRoot":"/source_map/","sourcesContent":["function countSegments( segments, data ) {\n  return data.reduce((acc,itinerary) => {\n    let mileage = itinerary.value?.totals?.find(item => 'SU' === item.id);\n    if(!mileage) {\n      return acc;\n    }\n    return 0 < mileage.rdm[0] ? acc+1 : acc;\n  }, 0);\n}\n\nfunction countBusinessSegments( segments, data ) {\n  return data.reduce((acc,itinerary) => {\n    let mileage = itinerary.value?.totals?.find(item => 'SU' === item.id);\n    if(!mileage) {\n      return acc;\n    }\n    let cabquery = itinerary.value?.totals?.find(item => 'DL' === item.id);\n    if(cabquery[\"cabinclass\"] == \"Business Class\"){\n    return 0 < mileage.rdm[0] ? acc+1 : acc;\n    }\n    return acc;\n  }, 0);\n}\n\nexport default {\n  name: 'Aeroflot Bonus',\n  alliance: 'SkyTeam',\n  qualificationPeriodType: 'Calendar year',\n  status: [\n    {\n      name: 'Silver',\n      allianceStatus: 'SkyTeam Elite',\n      qualification: [\n        {\n          type: 'miles',\n          number: 20000,\n          qualificationPeriod: 12,\n          validity: 12,\n        },\n        {\n          type: 'segments',\n          number: 20,\n          qualificationPeriod: 12,\n          validity: 12,\n          calculate: countSegments,\n          note: {\n            en: 'Only segments with mileage credit count.',\n            de: 'Nur Segmente mit Meilengutschrift zählen.',\n            es: '',\n          },\n        },\n      ],\n      note: {\n        en: '',\n        de: '',\n        es: '',\n      },\n    },\n    {\n      name: 'Gold',\n      allianceStatus: 'SkyTeam Elite Plus',\n      qualification: [\n        {\n          type: 'miles',\n          number: 40000,\n          qualificationPeriod: 12,\n          validity: 12,\n        },\n        {\n          type: 'segments',\n          number: 40,\n          qualificationPeriod: 12,\n          validity: 12,\n          calculate: countSegments,\n          note: {\n            en: 'Only segments with mileage credit count.',\n            de: 'Nur Segmente mit Meilengutschrift zählen.',\n            es: '',\n          },\n        },\n      ],\n      note: {\n        en: '',\n        de: '',\n        es: '',\n      },\n    },\n    {\n      name: 'Platinum',\n      allianceStatus: 'SkyTeam Elite Plus',\n      qualification: [\n        {\n          type: 'miles',\n          number: 100000,\n          qualificationPeriod: 12,\n          validity: 12,\n        },\n        {\n          type: 'segments',\n          number: 40,\n          qualificationPeriod: 12,\n          validity: 12,\n          calculate: countBusinessSegments,\n          milesName: {\n              en: 'business class segments',\n              de: 'Business Class Segmenten',\n          },\n          note: {\n            en: 'Only business class segments with mileage credit count.',\n            de: 'Nur Business Class Segmente mit Meilengutschrift zählen.',\n            es: '',\n          },\n        },\n      ],\n      note: {\n        en: '',\n        de: '',\n        es: '',\n      },\n    }\n  ],\n  note: {\n    en: '',\n    de: '',\n    es: '',\n  },\n};"]}