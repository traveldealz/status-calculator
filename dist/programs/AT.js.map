{"version":3,"sources":["src/programs/AT.js"],"names":["countSegments","segments","data","reduce","acc","itinerary","mileage","value","totals","find","item","id","rdm","calculateSegments","filter","segment","includes","carrier","length","countMarocMiles","qm","name","alliance","qualificationPeriodType","status","allianceStatus","qualification","type","number","qualificationPeriod","validity","secType","secNumber","secCalculate","secmilesName","en","de","calculate","note","es"],"mappings":"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","sourceRoot":"/source_map/","sourcesContent":["function countSegments( segments, data ) {\n  return data.reduce((acc,itinerary) => {\n    let mileage = itinerary.value?.totals?.find(item => 'AT' === item.id);\n    if(!mileage) {\n      return acc;\n    }\n    return 0 < mileage.rdm[0] ? acc+1 : acc;\n  }, 0);\n}\n\nfunction calculateSegments(segments) {\n    return segments.filter(segment => ['AT'].includes(segment.carrier)).length;\n}\n\n\nfunction countMarocMiles( segments, data ) {\n   return data.reduce((acc,itinerary) => {\n\n        let mileage = itinerary.value?.totals?.find(item => 'AT' === item.id);\n        if(!mileage) {\n          return [acc[0], acc[1]+1];\n        }\n        if(['AT'].includes(segments[acc[1]].carrier)) {\n                return [acc[0] + mileage.qm[0], acc[1]+1];\n        }\n        else {\n                return [acc[0], acc[1]+1];   \n        }\n        }, [0, 0])[0];\n}\n\nexport default {\n  name: 'Royal Air Maroc Safar Flyer',\n  alliance: 'Oneworld',\n  qualificationPeriodType: 'Calendar year',\n  status: [\n    {\n      name: 'Silver',\n      allianceStatus: 'Oneworld Ruby',\n      qualification: [\n        {\n          type: 'miles',\n          number: 20000,\n          qualificationPeriod: 12,\n          validity: 12,\n          secType: 'miles',\n          secNumber: 10000,\n          secCalculate: countMarocMiles,\n          secmilesName: {\n            en: 'Miles on Royal Air Maroc flights',\n            de: 'Meilen mit Royal Air Maroc Flügen',\n          },\n        },\n        {\n          type: 'segments',\n          number: 15,\n          qualificationPeriod: 12,\n          validity: 12,\n          calculate: countSegments,\n          note: {\n            en: 'Only segments with mileage credit count.',\n            de: 'Nur Segmente mit Meilengutschrift zählen.',\n            es: '',\n          },\n          secType: 'segments',\n          secNumber: 2,\n          secCalculate: calculateSegments,\n          secmilesName: {\n            en: 'segments with Royal Air Maroc',\n            de: 'Segmenten mit Royal Air Maroc',\n          },\n        },\n      ],\n      note: {\n        en: '',\n        de: '',\n        es: '',\n      },\n    },\n    {\n      name: 'Gold',\n      allianceStatus: 'Oneworld Sapphire',\n      qualification: [\n        {\n          type: 'miles',\n          number: 35000,\n          qualificationPeriod: 12,\n          validity: 12,\n          secType: 'miles',\n          secNumber: 17500,\n          secCalculate: countMarocMiles,\n          secmilesName: {\n            en: 'Miles on Royal Air Maroc flights',\n            de: 'Meilen mit Royal Air Maroc Flügen',\n          },\n        },\n        {\n          type: 'segments',\n          number: 30,\n          qualificationPeriod: 12,\n          validity: 12,\n          calculate: countSegments,\n          note: {\n            en: 'Only segments with mileage credit count.',\n            de: 'Nur Segmente mit Meilengutschrift zählen.',\n            es: '',\n          },\n          secType: 'segments',\n          secNumber: 10,\n          secCalculate: calculateSegments,\n          secmilesName: {\n            en: 'segments with Royal Air Maroc',\n            de: 'Segmenten mit Royal Air Maroc',\n          },\n        },\n      ],\n      note: {\n        en: '',\n        de: '',\n        es: '',\n      },\n    },\n    {\n      name: 'Platinum',\n      allianceStatus: 'Oneworld Emerald',\n      qualification: [\n        {\n          type: 'miles',\n          number: 75000,\n          qualificationPeriod: 12,\n          validity: 12,\n          secType: 'miles',\n          secNumber: 37500,\n          secCalculate: countMarocMiles,\n          secmilesName: {\n            en: 'Miles on Royal Air Maroc flights',\n            de: 'Meilen mit Royal Air Maroc Flügen',\n          },\n        },\n        {\n          type: 'segments',\n          number: 75,\n          qualificationPeriod: 12,\n          validity: 12,\n          calculate: countSegments,\n          note: {\n            en: 'Only segments with mileage credit count.',\n            de: 'Nur Segmente mit Meilengutschrift zählen.',\n            es: '',\n          },\n          secType: 'segments',\n          secNumber: 20,\n          secCalculate: calculateSegments,\n          secmilesName: {\n            en: 'segments with Royal Air Maroc',\n            de: 'Segmenten mit Royal Air Maroc',\n          },\n        },\n      ],\n      note: {\n        en: '',\n        de: '',\n        es: '',\n      },\n    }\n  ],\n  note: {\n    en: '',\n    de: '',\n    es: '',\n  },\n};"]}